@import "../../../styles/variables.scss";

// Search Row - inline layout for search + filter
.searchRow {
  display: flex;
  align-items: center;
  gap: $space-sm;
  flex-wrap: wrap;
}

.itemCount {
  color: $primary;
  padding: $space-xs $space-sm;
  border: 1px solid $border;
  border-radius: $radius-md;
  white-space: nowrap;
}

// Warning Banners
.overLimitWarning {
  display: flex;
  align-items: flex-start;
  gap: $space-sm;
  padding: $space-md;
  background-color: $error-bg;
  border: 1px solid $error;
  border-radius: $radius-md;
  color: $error;

  svg {
    flex-shrink: 0;
    margin-top: 2px;
  }
}

.atLimitInfo {
  display: flex;
  align-items: center;
  gap: $space-sm;
  padding: $space-sm $space-md;
  background-color: $warning-bg;
  border: 1px solid $warning;
  border-radius: $radius-md;
  color: $warning;

  svg {
    flex-shrink: 0;
  }
}

// Listing Card Wrapper
.listingCardWrapper {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: $space-sm;
  border-radius: $radius-lg;
  overflow: hidden;
  transition: transform 0.2s ease;

  &:hover {
    transform: translateY(-2px);
  }
}

// Draft Message (shown below card when status is DRAFT)
.draftMessage {
  padding: $space-sm;
  background: $warning-bg;
  border: 1px solid $warning;
  border-radius: $radius-md;
  text-align: center;

  .draftText {
    color: $warning;
    font-weight: $weight-semibold;
    margin: 0;
  }
}

// View Count
.viewCount {
  display: flex;
  align-items: center;
  gap: $space-xs;
  padding: $space-xs $space-sm;
  color: $text-muted;

  svg {
    flex-shrink: 0;
  }
}

// Card Actions (Edit/Delete buttons below card)
.cardActions {
  display: flex;
  gap: $space-xs;
  padding: $space-xs;

  button {
    flex: 1;
  }
}

// Status Badge Overlay (top-right of card)
.listingCardWrapper .statusBadge {
  position: absolute;
  top: $space-sm;
  right: $space-sm;
  z-index: 10;
  font-size: $font-xs;
  font-weight: $weight-medium;
  padding: $space-xs $space-sm;
  border-radius: $radius-md;
  backdrop-filter: blur(8px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

// Loading & Empty States
.loadingContainer,
.emptyState {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: $space-sm;
  padding: $space-xl;
  text-align: center;
}

.emptyIcon {
  color: $text-muted;
  opacity: 0.5;
}

// Status Badges
.statusBadge {
  padding: $space-xs $space-sm;
  border-radius: $radius-md;
  text-align: center;
  min-width: fit-content;
  display: inline-block;
}

// Status variants for listings
.status-draft {
  background-color: $warning-bg;
  color: $warning;
}

.status-rejected {
  background-color: $error-bg;
  color: $error;
}

.status-pending_approval,
.status-pending-approval {
  background-color: $info-bg;
  color: $info;
}

.status-active {
  background-color: $success-bg;
  color: $success;
}

.status-sold,
.status-sold_via_platform,
.status-sold-via-platform {
  background-color: $success-bg;
  color: $success;
}

.status-hidden {
  background-color: $surface;
  color: $text-muted;
}

// ===== DRAFTS SECTION =====
.draftsSection {
  display: flex;
  flex-direction: column;
  gap: $space-md;
}

.draftsSectionHeader {
  display: flex;
  align-items: center;
  gap: $space-sm;
  color: $primary;

  svg {
    flex-shrink: 0;
  }
}

.draftsLoading {
  display: flex;
  align-items: center;
  gap: $space-sm;
  padding: $space-sm;
}

.spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.draftsList {
  display: flex;
  flex-direction: column;
  gap: $space-sm;
}

.draftCard {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: $space-sm $space-md;
  background-color: $bg;
  border: 1px solid $border;
  border-radius: $radius-md;
  transition: border-color 0.2s ease;

  &:hover {
    border-color: $primary;
  }

  @media (max-width: $breakpoint-sm) {
    flex-direction: column;
    gap: $space-sm;
    align-items: stretch;
  }
}

.draftInfo {
  display: flex;
  align-items: center;
  gap: $space-md;
}

.draftImage {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: $radius-sm;
  border: 1px solid $border;
}

.draftImagePlaceholder {
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: $surface;
  border: 1px dashed $border;
  border-radius: $radius-sm;
  color: $text-muted;
}

.draftDetails {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.draftTitle {
  font-weight: $weight-medium;
}

.draftActions {
  display: flex;
  align-items: center;
  gap: $space-xs;
}

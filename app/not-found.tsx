"use client";

import React, { useEffect } from "react";
import Container from "../components/slices/Container/Container";
import Text from "../components/slices/Text/Text";
import Button from "../components/slices/Button/Button";
import { useTranslation } from "../hooks/useTranslation";
import { useCategoriesStore } from "../stores";
import styles from "./not-found.module.scss";
import Header from "@/components/Header/Header";

export default function NotFound() {
  const { t } = useTranslation();
  const { categories, fetchCategories } = useCategoriesStore();

  // Load categories to get dynamic links
  useEffect(() => {
    if (categories.length === 0) {
      fetchCategories();
    }
  }, [categories.length, fetchCategories]);

  // Get first available category for dynamic links
  const firstCategory = categories.find((cat) => cat.isActive);

  return (
    <>
      <Header />
      <main className={styles.notFound}>
        <Container size="lg">
          <div className={styles.content}>
            <div className={styles.errorCode}>
              <div className={styles.errorCodeText}>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="502"
                  height="320"
                  viewBox="0 0 502 320"
                  fill="none"
                >
                  <path
                    d="M155.04 8.62195L123.833 83.5579H136.54V58.3309H175.97V83.5579H190.919V114.392H175.97V139.807H136.54V114.392H80.665V86.3609L114.303 8.62195H155.04Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M302.111 74.215C302.111 117.196 283.237 140.929 249.226 140.929C214.841 140.929 196.153 117.197 196.153 74.215C196.153 31.234 214.841 7.50098 249.226 7.50098C283.237 7.50098 302.111 31.234 302.111 74.215ZM237.078 74.215C237.078 101.685 239.882 111.776 249.226 111.776C258.384 111.776 261.186 101.685 261.186 74.215C261.186 46.558 258.384 36.653 249.226 36.653C239.882 36.653 237.078 46.558 237.078 74.215Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M385.646 8.62195L354.439 83.5579H367.145V58.3309H406.575V83.5579H421.525V114.392H406.575V139.807H367.145V114.392H311.271V86.3609L344.907 8.62195H385.646Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M222.512 289.846C237.371 289.846 249.416 285.317 249.416 279.73C249.416 274.143 237.371 269.614 222.512 269.614C207.653 269.614 195.608 274.143 195.608 279.73C195.608 285.317 207.653 289.846 222.512 289.846Z"
                    fill="#B3EFF4"
                  />
                  <path
                    d="M281.012 289.846C295.871 289.846 307.916 285.317 307.916 279.73C307.916 274.143 295.871 269.614 281.012 269.614C266.153 269.614 254.108 274.143 254.108 279.73C254.108 285.317 266.153 289.846 281.012 289.846Z"
                    fill="#B3EFF4"
                  />
                  <path
                    d="M501 219.314C501 219.314 389.205 236.66 372.552 189.478C356.486 143.957 356.041 108.326 345.748 99.33"
                    stroke="#485F66"
                    strokeMiterlimit="10"
                  />
                  <path
                    d="M1 219.314C1 219.314 112.985 236.66 129.638 189.478C145.704 143.957 146.149 108.326 156.442 99.33"
                    stroke="#485F66"
                    strokeMiterlimit="10"
                  />
                  <path
                    d="M278.747 235.819L274.124 266.738H263.892L259.261 235.819H278.747Z"
                    fill="#395156"
                  />
                  <path
                    d="M274.14 235.819L269.517 266.738H263.892L259.261 235.819H274.14Z"
                    fill="#485F66"
                  />
                  <path
                    d="M272.785 285.134L290.183 280.759L274.774 266.046H263.937V271.116L272.785 285.134Z"
                    fill="#395156"
                  />
                  <path
                    d="M277.128 222.575L264.229 224.65L263.435 224.778L257.699 225.699L257.522 225.002L247.699 186.576L255.239 185.574L256.032 185.47L266.392 184.1L270.839 183.507L277.128 222.575Z"
                    fill="#395156"
                  />
                  <path
                    d="M272.585 222.575L259.686 224.65L258.892 224.778L257.522 225.002L247.699 186.576L255.239 185.574L256.032 185.47L266.392 184.1L272.585 222.575Z"
                    fill="#485F66"
                  />
                  <path
                    d="M257.487 229.471L278.431 226.098L277.619 221.056L256.676 224.429L257.487 229.471Z"
                    fill="#395156"
                  />
                  <path
                    d="M279.436 230.979L276.247 231.324L258.348 233.263L257.795 228.183L275.694 226.244L278.883 225.9L279.436 230.979Z"
                    fill="#395156"
                  />
                  <path
                    d="M275.702 226.247L257.803 228.186L258.353 233.266L276.253 231.327L275.702 226.247Z"
                    fill="#485F66"
                  />
                  <path
                    d="M258.379 237.86L279.522 236.127L279.105 231.038L257.962 232.771L258.379 237.86Z"
                    fill="#395156"
                  />
                  <path
                    d="M290.183 280.759V284.537L272.785 285.134L290.183 280.759Z"
                    fill="#485F66"
                  />
                  <path
                    d="M269.18 271.144L268.379 271.217L264.91 231.821L263.435 224.778L255.239 185.574L256.032 185.47L264.229 224.65L265.703 231.7L269.18 271.144Z"
                    fill="#395156"
                  />
                  <path
                    d="M240.408 235.819L235.785 266.738H225.546L220.923 235.819H240.408Z"
                    fill="#395156"
                  />
                  <path
                    d="M236.667 235.819L232.044 266.738H225.546L220.923 235.819H236.667Z"
                    fill="#485F66"
                  />
                  <path
                    d="M226.887 285.134L209.489 280.759L225.433 265.911L235.736 266.046V271.116L226.887 285.134Z"
                    fill="#395156"
                  />
                  <path
                    d="M252.274 186.576L242.275 225.699L238.485 225.09L237.244 224.89L236.458 224.762L222.838 222.575L229.047 184.02L229.127 183.507L244.647 185.566L245.448 185.67L252.274 186.576Z"
                    fill="#395156"
                  />
                  <path
                    d="M248.332 186.576L238.485 225.09L237.244 224.89L236.458 224.762L222.838 222.575L229.047 184.02L240.705 185.566L241.506 185.67L248.332 186.576Z"
                    fill="#485F66"
                  />
                  <path
                    d="M242.98 224.425L242.171 229.465L221.227 226.092L222.036 221.052L236.739 223.424L237.524 223.544L242.98 224.425Z"
                    fill="#395156"
                  />
                  <path
                    d="M241.875 228.183L241.33 233.263L237.764 232.878L220.242 230.979L220.786 225.9L238.309 227.798L241.875 228.183Z"
                    fill="#395156"
                  />
                  <path
                    d="M238.309 227.798L237.764 232.878L220.242 230.979L220.786 225.9L238.309 227.798Z"
                    fill="#485F66"
                  />
                  <path
                    d="M241.688 232.796L220.545 231.063L220.128 236.152L241.271 237.885L241.688 232.796Z"
                    fill="#395156"
                  />
                  <path
                    d="M209.489 280.759V284.504L226.887 285.134L209.489 280.759Z"
                    fill="#485F66"
                  />
                  <path
                    d="M234.64 235.819H235.441L232.717 266.738H231.915L234.64 235.819Z"
                    fill="#395156"
                  />
                  <path
                    d="M245.448 185.67L237.524 223.544L236.739 223.424L244.647 185.566L245.448 185.67Z"
                    fill="#395156"
                  />
                  <path
                    d="M249.951 2.62H248.699V22.05H249.951V2.62Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M255.359 27.592H244.092V26.566C244.092 23.455 246.614 20.932 249.726 20.932C252.837 20.932 255.36 23.454 255.36 26.566V27.592H255.359Z"
                    fill="#485F66"
                  />
                  <path
                    d="M303.552 118.143L309.182 126.264L337.699 106.494L332.07 98.3734L303.552 118.143Z"
                    fill="#485F66"
                  />
                  <path
                    d="M270.378 121.026L302.469 128.829L305.336 118.36L268.527 102.789L270.378 121.026Z"
                    fill="#485F66"
                  />
                  <path
                    d="M298.473 123.287C298.473 126.495 301.074 129.096 304.282 129.096C307.49 129.096 310.091 126.495 310.091 123.287C310.091 120.079 307.49 117.478 304.282 117.478C301.074 117.478 298.473 120.079 298.473 123.287Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M300.843 123.287C300.843 125.186 302.382 126.726 304.281 126.726C306.18 126.726 307.72 125.186 307.72 123.287C307.72 121.388 306.181 119.848 304.281 119.848C302.383 119.849 300.843 121.388 300.843 123.287Z"
                    fill="#485F66"
                  />
                  <path
                    d="M337.243 85.924L333.732 89.638C329.748 93.852 329.936 100.501 334.15 104.484C338.364 108.468 345.012 108.281 348.996 104.066L352.507 100.351L348.503 96.566L345.122 100.143C343.226 102.149 340.071 102.237 338.065 100.341C336.059 98.445 335.963 95.283 337.859 93.277L341.24 89.7L337.243 85.924Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M166.778 98.3504L161.148 106.471L189.665 126.241L195.295 118.12L166.778 98.3504Z"
                    fill="#485F66"
                  />
                  <path
                    d="M228.471 121.026L196.379 128.829L193.512 118.36L230.321 103.232L228.471 121.026Z"
                    fill="#485F66"
                  />
                  <path
                    d="M269.38 32.718V80.575C269.38 85.799 265.142 90.037 259.918 90.037H239.783C234.559 90.037 230.321 85.799 230.321 80.575V34.993C230.321 30.178 233.934 26.131 238.718 25.595L255.552 23.696L258.861 23.319C264.469 22.686 269.38 27.077 269.38 32.718Z"
                    fill="#63797F"
                  />
                  <path
                    d="M262.169 32.718V80.575C262.169 85.799 257.931 90.037 252.707 90.037H239.783C234.559 90.037 230.321 85.799 230.321 80.575V34.993C230.321 30.178 233.934 26.131 238.718 25.595L255.552 23.696C259.357 24.89 262.169 28.439 262.169 32.718Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M256.828 94.911H241.872C241.356 94.911 240.937 94.492 240.937 93.976V90.905C240.937 90.389 241.356 89.97 241.872 89.97H256.828C257.344 89.97 257.763 90.389 257.763 90.905V93.976C257.763 94.492 257.344 94.911 256.828 94.911Z"
                    fill="#485F66"
                  />
                  <path
                    d="M255.758 99.518H242.941C242.461 99.518 242.072 99.129 242.072 98.649V95.447C242.072 94.967 242.461 94.578 242.941 94.578H255.758C256.238 94.578 256.628 94.967 256.628 95.447V98.649C256.628 99.129 256.238 99.518 255.758 99.518Z"
                    fill="#395156"
                  />
                  <path
                    d="M256.544 104.025H242.155C241.648 104.025 241.237 103.614 241.237 103.107V100.002C241.237 99.495 241.648 99.084 242.155 99.084H256.544C257.051 99.084 257.462 99.495 257.462 100.002V103.107C257.462 103.614 257.051 104.025 256.544 104.025Z"
                    fill="#485F66"
                  />
                  <path
                    d="M277.008 114.738L275.093 155.272L275.053 156.073L273.931 179.773L273.618 186.479L273.121 196.935H226.98L226.483 186.479L226.17 179.773L224.856 151.995L224.816 151.194L223.093 114.739C222.773 108.065 227.54 102.456 233.533 102.456H266.567C272.561 102.456 277.329 108.064 277.008 114.738Z"
                    fill="#63797F"
                  />
                  <path
                    d="M266.993 114.738L265.078 155.272L265.038 156.073L263.916 179.773L263.603 186.479L263.106 196.935H226.98L226.483 186.479L226.17 179.773L224.856 151.995L224.816 151.194L223.093 114.739C222.773 108.065 227.54 102.456 233.533 102.456H256.552C262.546 102.456 267.313 108.064 266.993 114.738Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M200.375 123.287C200.375 126.495 197.774 129.096 194.566 129.096C191.358 129.096 188.757 126.495 188.757 123.287C188.757 120.079 191.358 117.478 194.566 117.478C197.775 117.478 200.375 120.079 200.375 123.287Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M194.567 126.241C196.198 126.241 197.521 124.918 197.521 123.287C197.521 121.656 196.198 120.333 194.567 120.333C192.936 120.333 191.613 121.656 191.613 123.287C191.613 124.918 192.936 126.241 194.567 126.241Z"
                    fill="#485F66"
                  />
                  <path
                    d="M161.605 85.924L165.116 89.638C169.1 93.852 168.912 100.501 164.698 104.484C160.484 108.468 153.836 108.281 149.852 104.066L146.341 100.351L150.345 96.566L153.726 100.143C155.622 102.149 158.777 102.237 160.783 100.341C162.789 98.445 162.885 95.283 160.989 93.277L157.608 89.7L161.605 85.924Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M251.136 1.853C251.136 2.876 250.306 3.706 249.283 3.706C248.26 3.706 247.43 2.876 247.43 1.853C247.43 0.829997 248.26 0 249.283 0C250.306 0 251.136 0.828997 251.136 1.853Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M262.47 73.011C253.79 67.603 245.11 78.419 236.43 73.011C236.43 72.11 236.43 71.208 236.43 70.307C245.11 75.715 253.79 64.899 262.47 70.307C262.47 71.208 262.47 72.11 262.47 73.011Z"
                    fill="#485F66"
                  />
                  <path
                    d="M247.183 59.296C250.781 55.6977 250.781 49.8638 247.183 46.2655C243.584 42.6673 237.75 42.6673 234.152 46.2655C230.554 49.8638 230.554 55.6977 234.152 59.296C237.75 62.8942 243.584 62.8942 247.183 59.296Z"
                    fill="#63797F"
                  />
                  <path
                    d="M267.467 54.92C268.641 49.9687 265.579 45.0031 260.627 43.8291C255.676 42.6552 250.71 45.7173 249.536 50.6687C248.362 55.62 251.425 60.5856 256.376 61.7596C261.327 62.9336 266.293 59.8714 267.467 54.92Z"
                    fill="#63797F"
                  />
                  <path
                    d="M258.89 43.566H240.587V61.982H258.89V43.566Z"
                    fill="#63797F"
                  />
                  <path
                    d="M242.94 47.973H238.734V57.688H242.94V47.973Z"
                    fill="#F7BC14"
                  />
                  <path
                    d="M242.489 48.724H239.184V56.936H242.489V48.724Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M261.269 47.973H257.062V57.688H261.269V47.973Z"
                    fill="#F7BC14"
                  />
                  <path
                    d="M234.687 46.46L233.426 44.768L243.782 36.366L245.882 40.011L234.687 46.46Z"
                    fill="#485F66"
                  />
                  <path
                    d="M265.319 46.46L266.58 44.768L256.224 36.366L254.124 40.011L265.319 46.46Z"
                    fill="#485F66"
                  />
                  <path
                    d="M267.311 117.879H232.191V139.913H267.311V117.879Z"
                    fill="#63797F"
                  />
                  <path
                    d="M263.905 120.016H235.596V137.776H263.905V120.016Z"
                    fill="#485F66"
                  />
                  <path
                    d="M261.333 123.586H238.168V124.705H261.333V123.586Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M257.708 126.67H241.793V127.789H257.708V126.67Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M259.458 129.42H240.043V130.539H259.458V129.42Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M275.093 155.272L275.053 156.073H255.824V146.322H238.798V151.995H224.857L224.817 151.194H237.997V145.521H256.625V155.272H275.093Z"
                    fill="#485F66"
                  />
                  <path
                    d="M238.4 152.866C239.211 152.866 239.869 152.208 239.869 151.397C239.869 150.586 239.211 149.928 238.4 149.928C237.589 149.928 236.931 150.586 236.931 151.397C236.931 152.208 237.589 152.866 238.4 152.866Z"
                    fill="#485F66"
                  />
                  <path
                    d="M239.401 145.788C239.401 146.341 238.953 146.79 238.4 146.79C237.847 146.79 237.398 146.342 237.398 145.788C237.398 145.235 237.846 144.786 238.4 144.786C238.954 144.786 239.401 145.235 239.401 145.788Z"
                    fill="#485F66"
                  />
                  <path
                    d="M257.229 145.788C257.229 146.341 256.781 146.79 256.227 146.79C255.674 146.79 255.225 146.342 255.225 145.788C255.225 145.235 255.673 144.786 256.227 144.786C256.78 144.787 257.229 145.235 257.229 145.788Z"
                    fill="#485F66"
                  />
                  <path
                    d="M257.229 155.403C257.229 155.956 256.781 156.404 256.227 156.404C255.674 156.404 255.225 155.956 255.225 155.403C255.225 154.85 255.673 154.402 256.227 154.402C256.78 154.401 257.229 154.85 257.229 155.403Z"
                    fill="#485F66"
                  />
                  <path
                    d="M260.784 48.724H257.479V56.936H260.784V48.724Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M274.388 186.383H225.514V201.105H274.388V186.383Z"
                    fill="#395156"
                  />
                  <path
                    d="M257.786 186.383H225.514V201.105H257.786V186.383Z"
                    fill="#485F66"
                  />
                  <path
                    d="M273.931 179.773L273.619 186.48H226.483L226.171 179.773H273.931Z"
                    fill="#63797F"
                  />
                  <path
                    d="M156.442 99.33C156.818 99.002 157.206 98.709 157.609 98.452C169.058 91.166 168.797 119.007 168.797 119.007"
                    stroke="#485F66"
                    strokeMiterlimit="10"
                  />
                  <path
                    d="M167.586 123.204H166.415V127.53H167.586V123.204Z"
                    fill="#485F66"
                  />
                  <path
                    d="M171.587 123.204H170.416V127.53H171.587V123.204Z"
                    fill="#485F66"
                  />
                  <path
                    d="M173.299 121.48V124.602H164.712V121.48C164.712 119.107 166.627 117.181 169 117.181C170.187 117.181 171.259 117.66 172.039 118.44C172.143 118.544 172.247 118.659 172.341 118.773C172.945 119.513 173.299 120.46 173.299 121.48Z"
                    fill="#485F66"
                  />
                  <path
                    d="M173.299 121.48V124.602H165.941V122.52C165.941 120.147 167.866 118.222 170.239 118.222C170.999 118.222 171.717 118.42 172.341 118.774C172.945 119.513 173.299 120.46 173.299 121.48Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M345.749 99.33C345.373 99.002 344.985 98.709 344.582 98.452C333.133 91.166 333.393 119.007 333.393 119.007"
                    stroke="#485F66"
                    strokeMiterlimit="10"
                  />
                  <path
                    d="M328.891 121.48V124.602H337.477V121.48C337.477 119.107 335.562 117.181 333.189 117.181C332.002 117.181 330.931 117.66 330.15 118.44C330.046 118.544 329.942 118.659 329.848 118.773C329.245 119.513 328.891 120.46 328.891 121.48Z"
                    fill="#485F66"
                  />
                  <path
                    d="M328.891 121.48V124.602H336.249V122.52C336.249 120.147 334.323 118.222 331.951 118.222C331.191 118.222 330.473 118.42 329.849 118.774C329.245 119.513 328.891 120.46 328.891 121.48Z"
                    fill="#6D8189"
                  />
                  <path
                    d="M165.003 142.433L163.96 142.505L163.762 140.211L162.711 143.608L163.755 143.536L163.952 145.83L165.003 142.433Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M183.516 131.966L182.488 133.172L179.796 130.956L182.36 135.691L183.388 134.486L186.081 136.702L183.516 131.966Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M179.099 143.337L177.372 144.295L175.197 140.533L176.123 147.181L177.849 146.222L180.025 149.984L179.099 143.337Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M323.637 130.154L322.75 129.601L323.933 127.626L321.092 129.764L321.98 130.317L320.797 132.291L323.637 130.154Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M344.774 132.511L343.235 132.886L342.35 129.513L341.655 134.853L343.194 134.478L344.079 137.851L344.774 132.511Z"
                    fill="#FFC84D"
                  />
                  <path
                    d="M334.534 139.141L332.574 138.907L333.013 134.583L329.871 140.514L331.831 140.748L331.392 145.072L334.534 139.141Z"
                    fill="#FFC84D"
                  />
                </svg>
              </div>
            </div>

            <div className={styles.message}>
              <Text variant="h2" className={styles.title}>
                {t("errors.notFound.title")}
              </Text>
              <Text variant="paragraph" className={styles.description}>
                {t("errors.notFound.description")}
              </Text>
            </div>

            <div className={styles.actions}>
              <Button href="/" variant="primary" size="lg">
                {t("errors.notFound.goHome")}
              </Button>
              {/* {firstCategory && (
              <Button
                href={`/${firstCategory.slug}`}
                variant="outline"
                size="lg"
              >
                {t("errors.notFound.viewListings")}
              </Button>
            )} */}
            </div>
            <hr />
            <div className={styles.suggestions}>
              <Text variant="paragraph" className={styles.suggestionsTitle}>
                {t("errors.notFound.suggestions.title")}
              </Text>
              <div className={styles.suggestionsList}>
                {firstCategory && (
                  <Button href={`/${firstCategory.slug}`} variant="link">
                    {t("errors.notFound.suggestions.browseListings")}
                  </Button>
                )}
                <Button href="/dashboard" variant="link">
                  {t("errors.notFound.suggestions.dashboard")}
                </Button>
                <Button href="/contact" variant="link">
                  {t("errors.notFound.suggestions.contact")}
                </Button>
              </div>
            </div>
          </div>
        </Container>
      </main>
    </>
  );
}
